/**
 * UI 规范 v2：Design tokens（Apple + 高级 SaaS）
 * 核心变量：app-bg, surface, border, text-primary, text-muted, primary, radius, shadow-card, sidebar/header/content
 * 支持 data-theme="light" | "dark"，禁止组件内写死颜色。
 */

/* ========== 日间主题（默认） ========== */
:root,
[data-theme="light"] {
  /* 四层结构：页面底 → Sidebar/Header → 内容区 → 卡片(surface) */
  --app-bg: hsl(220, 14%, 96%);
  --header-bg: hsl(0, 0%, 100%);
  --sidebar-bg: hsl(0, 0%, 100%);
  --content-bg: hsl(220, 14%, 99%);
  --surface: hsl(0, 0%, 100%);
  --surface-muted: hsl(220, 14%, 97%);
  --border: 220 13% 91%;
  --text-primary: hsl(220, 18%, 12%);
  --text-secondary: hsl(220, 14%, 22%);
  --text-muted: hsl(220, 10%, 42%);
  --primary: 22 75% 50%;
  --primary-hover: hsl(22, 75%, 46%);
  --primary-pressed: hsl(22, 75%, 42%);
  --on-primary: hsl(0, 0%, 100%);
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
  --header-top-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
  --header-separator: 0 1px 0 rgba(0, 0, 0, 0.06);
  --sidebar-edge-shadow: 1px 0 0 rgba(0, 0, 0, 0.06);
  --content-edge-shadow: 0 0 0 1px rgba(0, 0, 0, 0.04);
  --divider: transparent;
  --sidebar-item-hover: rgba(0, 0, 0, 0.04);
  --sidebar-active-bg: rgba(0, 0, 0, 0.06);
  --header-action-bg: hsl(220, 14%, 97%);
  --header-action-border: rgba(0, 0, 0, 0.06);
  --header-action-fg: hsl(220, 18%, 12%);
  --foreground: 220 18% 12%;
  --muted-foreground: 220 10% 42%;
  --ring: 22 75% 50%;
}

/* ========== 夜间主题 ========== */
[data-theme="dark"] {
  --header-bg: hsl(0, 0%, 9%);
  --sidebar-bg: hsl(0, 0%, 9%);
  --app-bg: hsl(0, 0%, 11%);
  --content-bg: hsl(0, 0%, 13%);
  --surface: hsl(0, 0%, 15%);
  --surface-muted: hsl(0, 0%, 13%);
  --border: 0 0% 22%;
  --text-primary: hsl(0, 0%, 98%);
  --text-secondary: hsl(0, 0%, 90%);
  --text-muted: hsl(0, 0%, 65%);
  --primary: 24 60% 55%;
  --primary-hover: hsl(24, 60%, 50%);
  --primary-pressed: hsl(24, 60%, 46%);
  --on-primary: hsl(0, 0%, 10%);
  --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.35), 0 1px 2px rgba(0, 0, 0, 0.2);
  --header-top-shadow: 0 1px 0 rgba(255, 255, 255, 0.06);
  --header-separator: 0 1px 0 rgba(255, 255, 255, 0.06);
  --sidebar-edge-shadow: 1px 0 0 rgba(255, 255, 255, 0.06);
  --content-edge-shadow: 0 0 0 1px rgba(255, 255, 255, 0.06);
  --divider: transparent;
  --sidebar-item-hover: rgba(255, 255, 255, 0.06);
  --sidebar-active-bg: hsl(0, 0%, 18%);
  --header-action-bg: hsl(0, 0%, 12%);
  --header-action-border: rgba(255, 255, 255, 0.08);
  --header-action-fg: hsl(0, 0%, 95%);
  --header-action-select-chevron-opacity: 0.9;

  --background: 0 0% 11%;
  --foreground: 0 0% 98%;
  --card: 0 0% 15%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 15%;
  --popover-foreground: 0 0% 98%;
  --primary-foreground: 0 0% 12%;
  --secondary: 0 0% 18%;
  --secondary-foreground: 0 0% 98%;
  --muted: 0 0% 16%;
  --muted-foreground: 0 0% 65%;
  --accent: 0 0% 18%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --input: 0 0% 20%;
  --ring: 24 60% 55%;
  --sidebar-background: 0 0% 9%;
  --sidebar-foreground: 0 0% 98%;
  --sidebar-primary: 24 60% 55%;
  --sidebar-primary-foreground: 0 0% 12%;
  --sidebar-accent: 0 0% 18%;
  --sidebar-accent-foreground: 0 0% 98%;
  --sidebar-border: 0 0% 18%;
  --sidebar-ring: 24 60% 55%;
}

/* Dark 下账号区 Select：文字与下拉箭头高对比（WCAG AA） */
[data-theme="dark"] .header-account-area [data-slot="select-trigger"] {
  color: var(--header-action-fg);
}
[data-theme="dark"] .header-account-area [data-slot="select-trigger"] svg {
  opacity: var(--header-action-select-chevron-opacity);
}
